@page "/"
@using BestBuyBlazorDemoWebApp.Data
@inject ProductRepo repo
@inject NavigationManager NavigationManager

@{
    var products = repo.GetAllProducts();

    void ViewProduct()
    {
        NavigationManager.NavigateTo("ViewProduct");
    }
}

<h1 class="">Products</h1>

<table class="table table-striped table-dark table-hover">
        <tr>
            <th>ProductID</th>
            <th>Name</th>
            <th>Price</th>
            <th>CategoryID</th>
            <th>OnSale</th>
            <th>StockLevel</th>
        </tr>

        @foreach (var p in products)
        {
            <tr>
                <td><button class="btn btn-primary" @onclick="ViewProduct">@p.ProductID</button></td>
                <td>@p.Name</td>
                <td>@p.Price</td>
                <td>@p.CategoryID</td>
                <td>@p.OnSale</td>
                <td>@p.StockLevel</td>
            </tr>

        }
    </table>
